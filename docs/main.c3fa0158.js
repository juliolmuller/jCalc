parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"XGi3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={LOCALE:"PT-BR",DECIMAL_SEP:".",MAX_LENGTH:10,ErrorMsg:{GENERAL:"#ERROR#",DIV_0:"#DIV 0#",OVERFLOW:"#OVERFLOW#"},ADD_SUB:["+","-"],MUL_DIV:["*","/"],OP_SYMBOLS:["+","-","*","/"],OP_TRIGGERS:["=","%"],KEYS_MAP:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",".":"ponto",",":"ponto","+":"soma","-":"subtracao","*":"multiplicacao","/":"divisao","=":"igual",enter:"igual","%":"porcento",escape:"ac",backspace:"ce",delete:"ce",c:"copy"},BUTTONS_MAP:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,ac:"ac",ce:"ce",ponto:".",soma:"+",subtracao:"-",multiplicacao:"*",divisao:"/",igual:"=",porcento:"%"}};exports.default=e;
},{}],"X4YK":[function(require,module,exports) {
module.exports="/click.91d30839.mp3";
},{}],"tQ2j":[function(require,module,exports) {
module.exports="/sound-on.3632e532.png";
},{}],"lPLX":[function(require,module,exports) {
module.exports="/sound-off.f239e666.png";
},{}],"rjLm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _constants=_interopRequireDefault(require("./constants")),_click=_interopRequireDefault(require("../assets/audio/click.mp3")),_soundOn=_interopRequireDefault(require("../assets/images/sound-on.png")),_soundOff=_interopRequireDefault(require("../assets/images/sound-off.png"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var Calculator=function(){function Calculator(){_classCallCheck(this,Calculator),this._time=document.querySelector("#hora"),this._date=document.querySelector("#data"),this._operationElements=[0],this._display=document.querySelector("#display"),this._withAudio=!0,this._audio=new Audio(_click.default),this.initialize(),this._lastOperator=void 0,this._lastOperated=void 0,this._lastButtonPressed=void 0}return _createClass(Calculator,[{key:"initialize",value:function(){var t=this;t.refreshDateTime(),t.refreshDisplay(),setInterval(function(){t.refreshDateTime()},1e3),t.initAudioEvent(),t.initButtonsEvents(),t.initKeyboardEvents()}},{key:"refreshDateTime",value:function(){this.displayTime=this.currentDate.toLocaleTimeString(_constants.default.LOCALE),this.displayDate=this.currentDate.toLocaleDateString(_constants.default.LOCALE,{day:"2-digit",month:"long",year:"numeric"})}},{key:"refreshDisplay",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(t=t||this.lastNumber.toString(),!isNaN(t)){t=t.toString();var e=(t=this.addDecimalSep(t)).indexOf(_constants.default.DECIMAL_SEP),n=t.substr(e+1,_constants.default.MAX_LENGTH-e).length;if(e>_constants.default.MAX_LENGTH)return void this.throwError(_constants.default.ErrorMsg.OVERFLOW);n>=0&&(t=parseFloat(parseFloat(t).toFixed(n))),t=this.addDecimalSep(t)}this.display=t}},{key:"addDecimalSep",value:function(t){return this.hasDecimals(t)||(t+=_constants.default.DECIMAL_SEP),t}},{key:"hasDecimals",value:function(t){return t.toString().indexOf(_constants.default.DECIMAL_SEP)>-1}},{key:"initAudioEvent",value:function(){var t=this,e=document.getElementById("toggle-audio");e.addEventListener("click",function(n){t._withAudio=!t._withAudio,t._withAudio?(t.playAudio(),e.src=_soundOn.default):e.src=_soundOff.default})}},{key:"initButtonsEvents",value:function(){var t=this,e=document.querySelectorAll("#buttons > g, #parts > g");["click","drag"].forEach(function(n){e.forEach(function(e){e.addEventListener(n,function(){var n=e.className.baseVal.replace("btn-","");t.pressButton(n)})})}),["mouseover","mouseup","mousedown"].forEach(function(t){e.forEach(function(e){e.addEventListener(t,function(){e.style.cursor="pointer"})})})}},{key:"initKeyboardEvents",value:function(){var t=this;document.addEventListener("keyup",function(e){var n=e.key.toLowerCase();e.ctrlKey&&"c"===n?(t.playAudio(),t.copyFromDisplay()):t.pressButton(_constants.default.KEYS_MAP[n])}),document.addEventListener("paste",function(e){var n=e.clipboardData.getData("Text");isNaN(n)?alert('Você está tentando colar conteúdo que não é numérico:\n"'.concat(n,'"')):(t.playAudio(),t.captureOperation(n),t.refreshDisplay(),console.log("Conteúdo colado com sucesso!"))})}},{key:"copyFromDisplay",value:function(){var t=document.createElement("input");document.body.appendChild(t),t.value=parseFloat(this.display),t.select(),document.execCommand("Copy"),t.remove(),console.log("Conteúdo copiado com sucesso!")}},{key:"pressButton",value:function(t){if(t in _constants.default.BUTTONS_MAP){switch(this.playAudio(),t){case"ac":this.clearAll();break;case"ce":this.clearEntry();break;case"igual":case"porcento":this.calculate(_constants.default.BUTTONS_MAP[t]);break;default:this.captureOperation(_constants.default.BUTTONS_MAP[t])}this._lastButtonPressed=_constants.default.BUTTONS_MAP[t],this.refreshDisplay()}}},{key:"playAudio",value:function(){this._withAudio&&(this._audio.currentTime=0,this._audio.play())}},{key:"clearAll",value:function(){this._operationElements=[0],this._lastOperator=void 0,this._lastOperated=void 0}},{key:"clearEntry",value:function(){1===this._operationElements.length?this.clearAll():3===this._operationElements.length&&(this._operationElements[2]=0)}},{key:"calculate",value:function calculate(operation){var _this=this;if(-1!==_constants.default.OP_TRIGGERS.indexOf(operation)){var isDividingByZero=function(){return"/"===_this._operationElements[1]&&0==_this._operationElements[2]&&(_this._operationElements=[0],_this.throwError(_constants.default.ErrorMsg.DIV_0),!0)};_constants.default.OP_TRIGGERS.indexOf(this._lastButtonPressed)>-1&&"="===operation&&(this.pushOperation(this._lastOperator),this.pushOperation(this._lastOperated));var len=this._operationElements.length,result;switch(len){case 1:"%"===operation?result=this._operationElements[0]/100:"="===operation&&(result=this._operationElements[0]);break;case 2:this._operationElements.push(this._operationElements[0]);case 3:if(isDividingByZero())return;"%"===operation&&(_constants.default.ADD_SUB.indexOf(this._operationElements[1])>-1?this._operationElements[2]=this._operationElements[0]*this._operationElements[2]/100:this._operationElements[2]=this._operationElements[2]/100),this._lastOperator=this._operationElements[1],this._lastOperated=this._operationElements[2],result=eval(this._operationElements.join(""))}this._operationElements=[result]}}},{key:"throwError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;t=t||_constants.default.ErrorMsg.GENERAL,this.refreshDisplay(t)}},{key:"captureOperation",value:function(t){this.isOperator(this.lastOperationElement)?this.isOperator(t)?this.lastOperationElement=t:t===_constants.default.DECIMAL_SEP?this.pushOperation("0"+_constants.default.DECIMAL_SEP):isNaN(t)||this.pushOperation(parseInt(t)):isNaN(this.lastOperationElement)||(this.isOperator(t)?this.pushOperation(t):"="!==this._lastButtonPressed||isNaN(t)?t!==_constants.default.DECIMAL_SEP||this.hasDecimals(this.lastOperationElement)?isNaN(t)||(0==t&&this.hasDecimals(this.lastOperationElement)?this.lastOperationElement+=t:this.lastOperationElement=parseFloat(this.lastOperationElement+t)):this.lastOperationElement+=t:t===_constants.default.DECIMAL_SEP?this._operationElements=["0"+_constants.default.DECIMAL_SEP]:isNaN(t)||(this._operationElements=[parseInt(t)]))}},{key:"isOperator",value:function(t){return _constants.default.OP_SYMBOLS.indexOf(t)>-1}},{key:"pushOperation",value:function(t){3===this._operationElements.length&&this.calculate("="),this._operationElements.push(t)}},{key:"lastNumber",get:function(){return 2 in this._operationElements?this._operationElements[2]:this._operationElements[0]}},{key:"lastOperationElement",get:function(){return this._operationElements[this._operationElements.length-1].toString()},set:function(t){this._operationElements[this._operationElements.length-1]=t}},{key:"display",get:function(){return this._display.innerHTML},set:function(t){this._display.innerHTML=t}},{key:"displayTime",set:function(t){this._time.innerHTML=t}},{key:"displayDate",set:function(t){this._date.innerHTML=t}},{key:"currentDate",get:function(){return new Date}}]),Calculator}();exports.default=Calculator;
},{"./constants":"XGi3","../assets/audio/click.mp3":"X4YK","../assets/images/sound-on.png":"tQ2j","../assets/images/sound-off.png":"lPLX"}],"KIzB":[function(require,module,exports) {
"use strict";var e=u(require("./Calculator"));function u(e){return e&&e.__esModule?e:{default:e}}new e.default;
},{"./Calculator":"rjLm"}]},{},["KIzB"], null)
//# sourceMappingURL=/main.c3fa0158.js.map